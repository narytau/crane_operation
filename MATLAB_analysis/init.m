%%
clear;

init_array = zeros(4, 3, 6);
init_array(:,:,1)=[-0.08513145, -0.05186271,  0.26039588;
  0.08643008, -0.05357337,  0.26455794;
 -0.08282659,  0.05784491,  0.25311823;
  0.08781605,  0.05564973,  0.25741626];
init_array(:,:,2)=[-0.09266733, -0.04466839,  0.47212866;
  0.07861085, -0.0625563,   0.47540763;
 -0.08109296,  0.06279312,  0.45239574;
  0.09034623,  0.04433365,  0.45263155];
init_array(:,:,3)=[-0.10672814, -0.0497539,   0.38045457;
  0.06146145, -0.03156418,  0.41188188;
 -0.09624263,  0.00150646,  0.28477844;
  0.07166546,  0.01992278,  0.31223098];
init_array(:,:,4)=[ 0.07523338,  0.03075233,  0.34618542;
 -0.0920979,   0.01618016,  0.31133788;
  0.05773805, -0.01369969,  0.44740731;
 -0.10970184, -0.02850683,  0.41046101];
init_array(:,:,5)=[-0.05462873, 0.04991838,  0.25679189;
 -0.08476082, -0.01723325,  0.41150756;
  0.05183985,  0.05898613,  0.28182335;
  0.0220429,  -0.00862711,  0.43374424];
init_array(:,:,6)=[ 0.04390661,  0.00176535,  0.44611151;
 0.06052936,  0.06409238,  0.28336101;
 -0.06415526, -0.00985167,  0.42632184;
 -0.04692228,  0.05219214,  0.26728518];

%%
tmp = init_array - init_array(1,:,:);
init_array = tmp(2:end,:,:);
diff = permute(init_array(2,:,:)-init_array(3,:,:), [2,3,1])
sqrt(sum(diff.^2, 1))
mean(sqrt(sum(diff.^2, 1)))

sum(permute(init_array(1,:,:), [2,3,1]) .* permute(init_array(2,:,:), [2,3,1]), 1)


